---
import { getCollection } from 'astro:content';

const cart = await getCollection('carts', (cart) => cart.slug === '2020-ezgo-express');
const { data: frontmatter } = cart[0];
---

<div class="grid-gallery">
    {Array.isArray(frontmatter.images) && frontmatter.images.length > 0 ? (
        frontmatter.images.map((image, index) => (
            <div class="gallery-item" data-aos="fade-up" data-aos-delay={index * 100}>
                <img
                    src={image.image}
                    alt={image.alt || `Image ${index + 1}`}
                    class="img-main-lb"
                    loading="lazy"
                />
            </div>
        ))
    ) : (
        <p>No images available</p>
    )}
</div>

<style>
    .grid-gallery {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
        margin-top: 2rem;
    }

    @media (max-width: 768px) {
        .grid-gallery {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    .img-main-lb {
        width: 100%;
        height: auto;
        object-fit: cover;
        box-shadow: var(--shadow);
        border-radius: 0.125rem;
    }
</style>
